// ====================================
// è¨ºæ–­ãƒ‡ãƒ¼ã‚¿: è³ªå•ã¨é¸æŠžè‚¢
// ====================================

const questions = [
    // è»¸ 1ï¼šEè»¸ (Energy Source) - ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®æº (R/P)
    { q: 1, text: "é€±æœ«ã«ã‚¹ãƒˆãƒ¬ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹ãªã‚‰ï¼Ÿ", axis: 'E', options: [{ text: "èª°ã«ã‚‚é‚ªé­”ã•ã‚Œãªã„å ´æ‰€ã§ã€è‡ªåˆ†ã®ä¸–ç•Œã«æ²¡é ­ã™ã‚‹ã€‚", score: 'R' }, { text: "å‹äººã‚„çŸ¥äººã¨ä¼šã„ã€ãŠã—ã‚ƒã¹ã‚Šã‚„ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’æ¥½ã—ã‚€ã€‚", score: 'P' }] },
    { q: 2, text: "é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è€ƒãˆã‚‹ã¨ãã€ã¾ãšä½•ã‹ã‚‰å§‹ã‚ã¾ã™ã‹ï¼Ÿ", axis: 'E', options: [{ text: "å¿…è¦ãªæƒ…å ±ã‚’é›†ã‚ãŸå¾Œã€é™ã‹ã«ä¸€äººã§æ·±ãæ€è€ƒã‚’å·¡ã‚‰ã›ã‚‹ã€‚", score: 'R' }, { text: "ãƒãƒ¼ãƒ ã‚„ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã™ãã«è©±ã—åˆã„ã€æ„è¦‹ã‚’å‡ºã—åˆã„ãªãŒã‚‰é€²ã‚ã‚‹ã€‚", score: 'P' }] },
    { q: 3, text: "äººã‹ã‚‰ç›¸è«‡ã‚’å—ã‘ã‚‹ã¨ãã€ã‚ãªãŸã®æ…‹åº¦ã¯ï¼Ÿ", axis: 'E', options: [{ text: "ç›¸æ‰‹ã®è©±ã‚’ã˜ã£ãã‚Šèžãã€å…±æ„Ÿã—ã¤ã¤ã‚‚ã€å¿ƒã®ä¸­ã§å†·é™ã«åˆ†æžã™ã‚‹ã€‚", score: 'R' }, { text: "ç©æ¥µçš„ã«è³ªå•ã‚’è¿”ã—ã€å…·ä½“çš„ãªè§£æ±ºç­–ã‚’ææ¡ˆã—ãªãŒã‚‰è­°è«–ã‚’ãƒªãƒ¼ãƒ‰ã™ã‚‹ã€‚", score: 'P' }] },
    { q: 4, text: "è‡ªåˆ†ãŒã€Œæ´»ãæ´»ãã—ã¦ã„ã‚‹ã€ã¨æ„Ÿã˜ã‚‹ã®ã¯ã€ã©ã‚“ãªæ™‚ã§ã™ã‹ï¼Ÿ", axis: 'E', options: [{ text: "è‡ªåˆ†ã®èˆˆå‘³ã‚’æ·±ãæŽ˜ã‚Šä¸‹ã’ã€æ–°ã—ã„çŸ¥è­˜ã‚„ã‚¹ã‚­ãƒ«ã‚’ç²å¾—ã—ã¦ã„ã‚‹æ™‚ã€‚", score: 'R' }, { text: "å¤šãã®äººã®ä¸­å¿ƒã§æ´»å‹•ã—ã€å¤–éƒ¨ã‹ã‚‰åˆºæ¿€ã‚„æ‰¿èªã‚’å¾—ã¦ã„ã‚‹æ™‚ã€‚", score: 'P' }] },
    
    // è»¸ 2ï¼šFè»¸ (Focus Style) - é›†ä¸­åŠ›ã®ã‚¹ã‚¿ã‚¤ãƒ« (S/M)
    { q: 5, text: "ç›®ã®å‰ã®ä½œæ¥­ã«é›†ä¸­ã—ã¦ã„ã‚‹æ™‚ã€ãƒ¡ãƒ¼ãƒ«ã‚„é€šçŸ¥ãŒæ¥ãŸã‚‰ï¼Ÿ", axis: 'F', options: [{ text: "é€šçŸ¥ã‚’ã‚ªãƒ•ã«ã—ã€ä¸€ã¤ã®ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã™ã‚‹ã¾ã§ç„¡è¦–ã™ã‚‹ã€‚", score: 'S' }, { text: "æ°—åˆ†è»¢æ›ã‚‚å…¼ã­ã¦ã€ã™ãã«ãƒã‚§ãƒƒã‚¯ã—ã€ç°¡å˜ãªã‚‚ã®ã¯ã‚µãƒƒã¨è¿”ä¿¡ã™ã‚‹ã€‚", score: 'M' }] },
    { q: 6, text: "æ–°ã—ã„åˆ†é‡Žã‚’å­¦ã¶ã¨ãã€ã‚ãªãŸã®æ–¹æ³•ã¯ï¼Ÿ", axis: 'F', options: [{ text: "ã¾ãšåŸºç¤Žã‚’å¾¹åº•çš„ã«å›ºã‚ã€å®Œç’§ã«ç†è§£ã—ã¦ã‹ã‚‰å¿œç”¨ã«é€²ã‚€ã€‚", score: 'S' }, { text: "è¤‡æ•°ã®é–¢é€£åˆ†é‡Žã«åŒæ™‚ã«æ‰‹ã‚’å‡ºã—ã€ãã‚Œã‚‰ã®ã¤ãªãŒã‚Šã‚’è¦‹ã¤ã‘ã‚ˆã†ã¨ã™ã‚‹ã€‚", score: 'M' }] },
    { q: 7, text: "æ–™ç†ã‚’ã™ã‚‹ã¨ãã€ã‚ãªãŸã®ã‚¹ã‚¿ã‚¤ãƒ«ã¯ï¼Ÿ", axis: 'F', options: [{ text: "ãƒ¬ã‚·ãƒ”é€šã‚Šã«ä¸€ã¤ä¸€ã¤ã®å·¥ç¨‹ã‚’ä¸å¯§ã«ã€ç¢ºå®Ÿã«è¡Œã†ã€‚", score: 'S' }, { text: "è¤‡æ•°ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’åŒæ™‚ã«ä½œã‚Šã€èª¿å‘³æ–™ã®èª¿æ•´ã¯å‘³è¦‹ã—ãªãŒã‚‰è‡¨æ©Ÿå¿œå¤‰ã«è¡Œã†ã€‚", score: 'M' }] },
    { q: 8, text: "è¤‡é›‘ãªå•é¡Œã«ç›´é¢ã—ãŸã¨ãã€ã©ã®ã‚ˆã†ã«è€ƒãˆã¾ã™ã‹ï¼Ÿ", axis: 'F', options: [{ text: "å…¨ä½“ã‚’ç„¡è¦–ã—ã¦ã€å•é¡Œã®**æ ¸å¿ƒã¨ãªã‚‹ä¸€ç‚¹**ã‚’æ·±æŽ˜ã‚Šã—ã€è§£æ±ºç­–ã‚’æŽ¢ã™ã€‚", score: 'S' }, { text: "å…¨ã¦ã®å´é¢ã€å½±éŸ¿ã€å¯èƒ½æ€§ã‚’ä¿¯çž°ã—ã€**åºƒã„è¦–é‡Ž**ã‹ã‚‰è§£æ±ºç­–ã‚’æŽ¢ã™ã€‚", score: 'M' }] },

    // è»¸ 3ï¼šTè»¸ (Trigger Point) - ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã®ç€ç«ç‚¹ (L/I)
    { q: 9, text: "å¤§ããªè²·ã„ç‰©ã‚’ã™ã‚‹ã¨ãã€æ±ºå®šæ‰“ã«ãªã‚‹ã®ã¯ï¼Ÿ", axis: 'T', options: [{ text: "æ€§èƒ½ã‚„ä¾¡æ ¼ã‚’ç¶¿å¯†ã«æ¯”è¼ƒã—ã€æœ€ã‚‚ç†ã«ã‹ãªã£ã¦ã„ã‚‹ã¨åˆ¤æ–­ã—ãŸæ™‚ã€‚", score: 'L' }, { text: "ã€Œã“ã‚ŒãŒæ¬²ã—ã„ï¼ã€ã¨ã„ã†å¼·ã„è¡å‹•ã‚„ã€ç›´æ„Ÿçš„ãªã²ã‚‰ã‚ããŒæ¹§ã„ãŸæ™‚ã€‚", score: 'I' }] },
    { q: 10, text: "ç· åˆ‡ã¾ã§ã®æ™‚é–“ã®ä½¿ã„æ–¹ã¯ï¼Ÿ", axis: 'T', options: [{ text: "ä½™è£•ã‚’æŒã£ã¦è¨ˆç”»ã‚’ç«‹ã¦ã€å‰å€’ã—ã§å°‘ã—ãšã¤é€²ã‚ã¦ã„ãã€‚", score: 'L' }, { text: "ç· åˆ‡ãŒè¿«ã‚Šã€ç„¦ã‚Šã‚„èˆˆå¥®ã‚’æ„Ÿã˜ãŸæ™‚ã«ä¸€æ°—ã«é›†ä¸­åŠ›ã‚’é«˜ã‚ã¦å–ã‚ŠæŽ›ã‹ã‚‹ã€‚", score: 'I' }] },
    { q: 11, text: "ç¿’æ…£ã‚„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã¯å¥½ãã§ã™ã‹ï¼Ÿ", axis: 'T', options: [{ text: "å¥½ãã§ã‚ã‚‹ã€‚æ±ºã¾ã£ãŸæ‰‹é †ã‚„è¦å‰‡ãŒã‚ã‚‹æ–¹ãŒã€åŠ¹çŽ‡çš„ã§å®‰å¿ƒã§ãã‚‹ã€‚", score: 'L' }, { text: "ã‚ã¾ã‚Šå¥½ãã§ã¯ãªã„ã€‚æ°—åˆ†ã‚„çŠ¶æ³ã«å¿œã˜ã¦ã€è‡ªç”±ã«æŸ”è»Ÿã«è¡Œå‹•ã—ãŸã„ã€‚", score: 'I' }] },
    { q: 12, text: "èª°ã‹ã«ä½•ã‹ã‚’èª¬å¾—ã™ã‚‹ã¨ãã€ã‚ãªãŸãŒé‡è¦–ã™ã‚‹ã®ã¯ï¼Ÿ", axis: 'T', options: [{ text: "å®¢è¦³çš„ãªãƒ‡ãƒ¼ã‚¿ã‚„è«–ç†çš„ãªæ ¹æ‹ ã‚’æç¤ºã—ã€ç´å¾—ã•ã›ã‚‹ã“ã¨ã€‚", score: 'L' }, { text: "ç›¸æ‰‹ã®æ„Ÿæƒ…ã«è¨´ãˆã‹ã‘ã€ç†±æ„ã‚„ãƒ“ã‚¸ãƒ§ãƒ³ã‚’å…±æœ‰ã™ã‚‹ã“ã¨ã€‚", score: 'I' }] },
];

// è¨ºæ–­çµæžœãƒ‡ãƒ¼ã‚¿ (å…¨8ã‚¿ã‚¤ãƒ—)
const results = {
    // R (å……é›»åž‹) - S (ä¸€ç‚¹é›†ä¸­åž‹) - L (è¨ˆç”»å§‹å‹•åž‹)
    'RSL': {
        name: 'é™ã‹ãªã‚‹å»ºç¯‰å®¶', icon: 'âš™ï¸', mbti: 'INTJ',
        summary: 'å†…çœï¼ˆRï¼‰ã§ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’å……é›»ã—ã€ç·»å¯†ãªè¨ˆç”»ï¼ˆLï¼‰ã«åŸºã¥ãã€ä¸€ã¤ã®ç›®æ¨™ï¼ˆSï¼‰ã‚’é»™ã€…ã¨è¿½æ±‚ã™ã‚‹å»ºç¯‰å®¶ã‚¿ã‚¤ãƒ—ã§ã™ã€‚',
        energy: 'èª°ã«ã‚‚é‚ªé­”ã•ã‚Œãªã„ç’°å¢ƒã§ã®æ€è€ƒã‚„èª­æ›¸ã§æ´»åŠ›ã‚’å¾—ã¾ã™ã€‚å¤–éƒ¨ã®é¨’éŸ³ã‚„ä¸å¿…è¦ãªäº¤æµã¯ã€ã‚ãªãŸã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’ä¸€æ°—ã«å‰ŠãŽã¾ã™ã€‚',
        action: 'ç¶¿å¯†ãªè¨ˆç”»ï¼ˆLï¼‰ã‚’åœŸå°ã¨ã—ã€ç›®æ¨™é”æˆã®ãŸã‚ã«ã¯æ‰‹æ®µã‚’é¸ã°ãšã€å¾¹åº•çš„ã«ã‚³ã‚¢ãªä¸€ç‚¹ï¼ˆSï¼‰ã‚’æ·±æŽ˜ã‚Šã—ã¦å®Œæˆã•ã›ã¾ã™ã€‚',
        strengths: 'è«–ç†çš„ãªåˆ†æžåŠ›ã€ç›®æ¨™é‚è¡Œã®ç¢ºå®Ÿæ€§ã€å†…ãªã‚‹ä¸–ç•Œã‚’æ·±ãæŽ˜ã‚Šä¸‹ã’ã‚‹æŽ¢æ±‚å¿ƒã€‚',
    },
    // P (æ”¾å‡ºåž‹) - S (ä¸€ç‚¹é›†ä¸­åž‹) - L (è¨ˆç”»å§‹å‹•åž‹)
    'PSL': {
        name: 'ç¤¾äº¤çš„ãªè·äºº', icon: 'ðŸ”¥', mbti: 'ESTJ',
        summary: 'å¤–ã¨ã®äº¤æµï¼ˆPï¼‰ã§åŠ›ã‚’å¾—ã¦ã€è¨ˆç”»ï¼ˆLï¼‰ã¨ã„ã†ç§©åºã®ä¸­ã§ã€å°‚é–€çš„ãªã‚¹ã‚­ãƒ«ï¼ˆSï¼‰ã‚’å®‰å®šã—ã¦ç£¨ãä¸Šã’ã‚‹è·äººã‚¿ã‚¤ãƒ—ã§ã™ã€‚',
        energy: 'äººã¨å”åƒã—ãŸã‚Šã€æ•™ãˆãŸã‚Šã™ã‚‹ã“ã¨ã§ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæº€ãŸã•ã‚Œã¾ã™ã€‚ã—ã‹ã—ã€é›†ä¸­ã™ã‚‹ã¹ãå°‚é–€åˆ†é‡Žï¼ˆSï¼‰ã‹ã‚‰é€¸è„±ã™ã‚‹ã¨ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ã¾ã™ã€‚',
        action: 'é•·æœŸçš„ãªè¨ˆç”»ï¼ˆLï¼‰ã‚’ç«‹ã¦ã€ãã®æž çµ„ã¿ã®ä¸­ã§æœ€é«˜ã®å°‚é–€æ€§ã‚’ç™ºæ®ã™ã‚‹ã“ã¨ã«é›†ä¸­ï¼ˆSï¼‰ã—ã¾ã™ã€‚çµæžœã‚’å‡ºã™ãŸã‚ã®ç¾å®Ÿçš„ãªè¡Œå‹•ãŒå¾—æ„ã§ã™ã€‚',
        strengths: 'é«˜ã„å°‚é–€æ€§ã€è²¬ä»»æ„Ÿã€è¨ˆç”»ã«æ²¿ã£ãŸå®‰å®šã—ãŸå®Ÿè¡ŒåŠ›ã€é›†å›£ã«ãŠã‘ã‚‹å»ºè¨­çš„ãªæŒ‡å°ŽåŠ›ã€‚',
    },
    // R (å……é›»åž‹) - M (åŒæ™‚ä¸¦è¡Œåž‹) - L (è¨ˆç”»å§‹å‹•åž‹)
    'RML': {
        name: 'ãƒžã‚¤ãƒšãƒ¼ã‚¹ãªå­¦è€…', icon: 'ðŸ¦‰', mbti: 'INTJ/INTP',
        summary: 'å†…çœï¼ˆRï¼‰ã§ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’å……é›»ã—ã€è¨ˆç”»ï¼ˆLï¼‰ã¨ã„ã†ç§©åºã®ã‚‚ã¨ã§ã€è¤‡æ•°ã®åˆ†é‡Žï¼ˆMï¼‰ã‚’åŒæ™‚ã«æŽ¢æ±‚ã™ã‚‹ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã‚‹å­¦è€…ã‚¿ã‚¤ãƒ—ã§ã™ã€‚',
        energy: 'çŸ¥è­˜ã®å¸åŽã‚„ã€ç‹¬è‡ªã®ä½“ç³»çš„ãªæ€è€ƒã‚’è¡Œã†é™ã‹ãªæ™‚é–“ãŒå¿…è¦ã§ã™ã€‚æ„Ÿæƒ…è«–ã‚ˆã‚Šã‚‚åˆç†æ€§ã‚„è«–ç†æ€§ã‚’é‡ã‚“ã˜ã¾ã™ã€‚',
        action: 'ç·»å¯†ãªè¨ˆç”»ï¼ˆLï¼‰ã¨è«–ç†çš„ãªåˆ¤æ–­ãŒè¡Œå‹•ã®ãƒˆãƒªã‚¬ãƒ¼ã€‚å¹…åºƒã„çŸ¥è­˜ï¼ˆMï¼‰ã‚’ç‹¬è‡ªã«çµã³ã¤ã‘ã€ä½“ç³»åŒ–ã™ã‚‹ã“ã¨ã§è§£æ±ºç­–ã‚’è¦‹å‡ºã—ã¾ã™ã€‚',
        strengths: 'çŸ¥è­˜ã®å¹…åºƒã•ã€å†·é™ãªåˆ†æžåŠ›ã€è¨ˆç”»é€šã‚Šã«ç‰©äº‹ã‚’é‚è¡Œã™ã‚‹ç¢ºå®Ÿæ€§ã€ç‹¬è‡ªã®è¦–ç‚¹ã€‚',
    },
    // P (æ”¾å‡ºåž‹) - M (åŒæ™‚ä¸¦è¡Œåž‹) - L (è¨ˆç”»å§‹å‹•åž‹)
    'PML': {
        name: 'ä¸‡èƒ½ãªãƒžãƒãƒ¼ã‚¸ãƒ£ãƒ¼', icon: 'ðŸ‘‘', mbti: 'ENTJ',
        summary: 'å¤–å‘æ€§ï¼ˆPï¼‰ã¨åºƒã„è¦–é‡Žï¼ˆMï¼‰ã§å‘¨å›²ã‚’çµ±çŽ‡ã—ã€è¨ˆç”»ï¼ˆLï¼‰é€šã‚Šã«å…¨ã¦ã‚’å‹•ã‹ã™ã“ã¨ã«é•·ã‘ãŸãƒžãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚¿ã‚¤ãƒ—ã§ã™ã€‚',
        energy: 'é›†å›£ã®ä¸­å¿ƒã§æŒ‡æ®ã‚’åŸ·ã‚‹æ™‚ã‚„ã€å•é¡Œè§£æ±ºã®ãŸã‚ã«äººã¨å”åŠ›ã™ã‚‹æ™‚ã«æœ€ã‚‚æ´»åŠ›ãŒæ¹§ãã¾ã™ã€‚',
        action: 'å…¨ä½“åƒã‚’æŠŠæ¡ã—ï¼ˆMï¼‰ã€ç›®æ¨™é”æˆã®ãŸã‚ã®æˆ¦ç•¥ã‚’ç·´ã‚Šï¼ˆLï¼‰ã€äººã‚’å·»ãè¾¼ã‚“ã§æŽ¨é€²åŠ›ï¼ˆPï¼‰ã‚’ç”Ÿã¿å‡ºã—ã¾ã™ã€‚ã‚¿ã‚¹ã‚¯ç®¡ç†èƒ½åŠ›ã«å„ªã‚Œã¾ã™ã€‚',
        strengths: 'çµ±çŽ‡åŠ›ã€å¤šæ‰ã•ã€åŠ¹çŽ‡æ€§ã€è¤‡é›‘ãªçŠ¶æ³ã‚’æ•´ç†ã—è¨ˆç”»ã™ã‚‹èƒ½åŠ›ã€‚',
    },
    // R (å……é›»åž‹) - S (ä¸€ç‚¹é›†ä¸­åž‹) - I (çªç™ºå§‹å‹•åž‹)
    'RSI': {
        name: 'å­¤é«˜ã®æŽ¢æ±‚è€…', icon: 'ðŸŒŒ', mbti: 'INFP/ISFP',
        summary: 'å†…ãªã‚‹è¡å‹•ï¼ˆIï¼‰ã¨ç›´æ„Ÿã«å¾“ã„ã€ä¸€äººï¼ˆRï¼‰ã§æ·±ãï¼ˆSï¼‰æŽ¢æ±‚ã™ã‚‹ã€ç‹¬è‡ªã®çœŸå®Ÿã‚’è¿½æ±‚ã™ã‚‹æŽ¢æ±‚è€…ã‚¿ã‚¤ãƒ—ã§ã™ã€‚',
        energy: 'å†…ãªã‚‹ä¸–ç•Œã¨ã®å¯¾è©±ã‚„ã€æ·±ãé›†ä¸­ã§ãã‚‹èŠ¸è¡“çš„ãªæ´»å‹•ã‹ã‚‰ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’å¾—ã¾ã™ã€‚äººå‰ã§ã¯åŠ›ã‚’ç™ºæ®ã—ã«ãã„å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚',
        action: 'å¼·ã„ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆIï¼‰ã‚„æ„Ÿæƒ…ãŒæ¹§ã„ãŸæ™‚ã«ã€ä¸€æ°—ã«æ·±ãé›†ä¸­ï¼ˆSï¼‰ã—ã€æŽ¢æ±‚ã‚’å§‹ã‚ã¾ã™ã€‚è¨ˆç”»æ€§ã‚ˆã‚Šã‚‚ç›´æ„Ÿçš„ãªå‹•ãã‚’é‡è¦–ã—ã¾ã™ã€‚',
        strengths: 'å¼·ã„é›†ä¸­åŠ›ã€ç›´æ„Ÿçš„ãªæ´žå¯ŸåŠ›ã€æ·±ã„æ„Ÿå—æ€§ã€ãƒ–ãƒ¬ãªã„ä¿¡å¿µã€‚',
    },
    // P (æ”¾å‡ºåž‹) - S (ä¸€ç‚¹é›†ä¸­åž‹) - I (çªç™ºå§‹å‹•åž‹)
    'PSI': {
        name: 'çŸ­æœŸæ±ºæˆ¦ã®ç‹©äºº', icon: 'ðŸŽ¯', mbti: 'ESTP/ESFP',
        summary: 'å¤–çš„ãªåˆºæ¿€ï¼ˆPï¼‰ã¨è¡å‹•ï¼ˆIï¼‰ã§é›†ä¸­åŠ›ã‚’æœ€å¤§åŒ–ï¼ˆSï¼‰ã—ã€ä¸€æ°—ã«ç›®æ¨™ã‚’é”æˆã™ã‚‹ã€çŸ­æœŸæ±ºæˆ¦ã«å¼·ã„ãƒãƒ³ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—ã§ã™ã€‚',
        energy: 'åˆºæ¿€çš„ãªã‚¤ãƒ™ãƒ³ãƒˆã‚„ã€ç«¶äº‰çš„ãªçŠ¶æ³ã§æœ€é«˜ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã‚’ç™ºæ®ã—ã¾ã™ã€‚é™çš„ãªç’°å¢ƒã§ã¯åŠ›ãŒåŠæ¸›ã—ã¾ã™ã€‚',
        action: 'ç· åˆ‡ã‚„å±æ©Ÿæ„Ÿï¼ˆIï¼‰ã‚’æ„Ÿã˜ãŸæ™‚ã«é›†ä¸­åŠ›ï¼ˆSï¼‰ãŒä¸€æ°—ã«é«˜ã¾ã‚Šã€å³åº§ã«è¡Œå‹•ã«ç§»ã—ã¾ã™ã€‚è¨ˆç”»ã‚ˆã‚Šã‚‚ãã®å ´ã®çŠ¶æ³ã«åˆã‚ã›ãŸæŸ”è»Ÿãªå¯¾å¿œãŒå¾—æ„ã§ã™ã€‚',
        strengths: 'çž¬é–“çš„ãªé›†ä¸­åŠ›ã€å¤§èƒ†ãªè¡Œå‹•åŠ›ã€çŠ¶æ³é©å¿œèƒ½åŠ›ã€é«˜ã„å•é¡Œè§£æ±ºèƒ½åŠ›ã€‚',
    },
    // R (å……é›»åž‹) - M (åŒæ™‚ä¸¦è¡Œåž‹) - I (çªç™ºå§‹å‹•åž‹)
    'RMI': {
        name: 'è‡ªç”±ãªã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆ', icon: 'ðŸŽ¨', mbti: 'INFP/INTP',
        summary: 'å†…å´ï¼ˆRï¼‰ã‹ã‚‰æ¹§ãå‡ºã‚‹æ„Ÿæƒ…ï¼ˆIï¼‰ã‚„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ã€è¤‡æ•°ã®åˆ†é‡Žï¼ˆMï¼‰ã‚’ä½¿ã£ã¦è¡¨ç¾ã™ã‚‹ã€è‡ªç”±ãªå‰µé€ æ€§ã‚’æ„›ã™ã‚‹ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ã§ã™ã€‚',
        energy: 'å­¤ç‹¬ãªç’°å¢ƒã§ã€åˆ¶é™ãªãè‡ªç”±ã«ç™ºæƒ³ã‚’åºƒã’ã¦ã„ã‚‹ã¨ãã«æœ€ã‚‚æ´»åŠ›ã‚’æ„Ÿã˜ã¾ã™ã€‚æ±ºã¾ã£ãŸãƒ«ãƒ¼ãƒ«ã‚„æ‰‹é †ã‚’å«Œã„ã¾ã™ã€‚',
        action: 'æ„Ÿæƒ…ã‚„è¡å‹•ï¼ˆIï¼‰ã«ä»»ã›ã¦è¤‡æ•°ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’åŒæ™‚ã«é€²ã‚ï¼ˆMï¼‰ã€ãã®ä¸­ã®æœ€é«˜ã®ã‚‚ã®ã‚’å½¢ã«ã—ã¾ã™ã€‚è¨ˆç”»ã‚ˆã‚Šã‚‚æŸ”è»Ÿæ€§ã¨è‡ªç”±ãªç™ºæƒ³ã‚’é‡è¦–ã—ã¾ã™ã€‚',
        strengths: 'å‰µé€ æ€§ã€æ„Ÿæƒ…ã®è±Šã‹ã•ã€æŸ”è»Ÿãªæ€è€ƒåŠ›ã€ç‹¬è‡ªã®ä¾¡å€¤è¦³ã€‚',
    },
    // P (æ”¾å‡ºåž‹) - M (åŒæ™‚ä¸¦è¡Œåž‹) - I (çªç™ºå§‹å‹•åž‹)
    'PMI': {
        name: 'è³‘ã‚„ã‹ãªæŒ‡æ®è€…', icon: 'ðŸš€', mbti: 'ENFP/ENTP',
        summary: 'å‘¨å›²ã‚’å·»ãè¾¼ã¿ï¼ˆPï¼‰ã€è¡å‹•çš„ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼ˆIï¼‰ã‚’å¤šæ–¹é¢ï¼ˆMï¼‰ã«æ‹¡æ•£ã™ã‚‹ã€ç†±æ„ã¨æ´»æ°—ã«æº€ã¡ãŸæŒ‡æ®è€…ã‚¿ã‚¤ãƒ—ã§ã™ã€‚',
        energy: 'æ–°ã—ã„äººã‚„æ–‡åŒ–ã«è§¦ã‚ŒãŸã‚Šã€è‡ªåˆ†ã®æƒ…ç†±ã‚’èª°ã‹ã¨å…±æœ‰ã—ãŸã‚Šã™ã‚‹æ™‚ã«ã€ç„¡é™ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæ¹§ã„ã¦ãã¾ã™ã€‚',
        action: 'å¼·ã„ã²ã‚‰ã‚ãã‚„æƒ…ç†±ï¼ˆIï¼‰ã«ã‚ˆã£ã¦è¡Œå‹•ã‚’é–‹å§‹ã—ã€ãã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã§è¤‡æ•°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆMï¼‰ã‚’åŒæ™‚ã«å‹•ã‹ã—ã¾ã™ã€‚è¨ˆç”»ã‚ˆã‚Šã‚‚é¢ç™½ã•ã‚’å„ªå…ˆã—ã¾ã™ã€‚',
        strengths: 'æ‹¡æ•£åŠ›ã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ã€å³åº§ã®è¡Œå‹•åŠ›ã€ãƒã‚¸ãƒ†ã‚£ãƒ–ãªå½±éŸ¿åŠ›ã€‚',
    },
};

// ====================================
// è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯
// ====================================

let currentQuestionIndex = 0;
let userAnswers = {}; // { E: [], F: [], T: [] }

const startScreen = document.getElementById('start-screen');
const questionScreen = document.getElementById('question-screen');
const resultScreen = document.getElementById('result-screen');
const startButton = document.getElementById('start-button');
const questionTextElement = document.getElementById('question-text');
const optionsContainer = document.getElementById('options-container');
const progressBar = document.getElementById('progress-bar');
const resetButton = document.getElementById('reset-button');
const container = document.querySelector('.container');

// è¨ºæ–­é–‹å§‹
startButton.addEventListener('click', () => {
    startScreen.classList.remove('active');
    questionScreen.classList.add('active');
    currentQuestionIndex = 0;
    userAnswers = { E: [], F: [], T: [] }; // ã‚¹ã‚³ã‚¢ã‚’ãƒªã‚»ãƒƒãƒˆ
    loadQuestion();
});

// è³ªå•ã‚’ç”»é¢ã«è¡¨ç¤º
function loadQuestion() {
    if (currentQuestionIndex >= questions.length) {
        showResult();
        return;
    }

    const qData = questions[currentQuestionIndex];
    questionTextElement.innerHTML = `Q${qData.q}. ${qData.text}`;
    optionsContainer.innerHTML = '';
    
    // é¸æŠžè‚¢ãƒœã‚¿ãƒ³ã®ç”Ÿæˆ
    qData.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.classList.add('option-button');
        button.innerHTML = option.text;
        
        // é¸æŠžè‚¢ã‚¯ãƒªãƒƒã‚¯æ™‚ã®å‡¦ç†
        button.addEventListener('click', () => {
            recordAnswer(qData.axis, option.score);
            // é¸æŠžè‚¢ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            optionsContainer.querySelectorAll('.option-button').forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');
            
            // å°‘ã—é…å»¶ã•ã›ã¦æ¬¡ã®è³ªå•ã¸ï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¦‹ã›ã‚‹ãŸã‚ï¼‰
            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 300); 
        });
        optionsContainer.appendChild(button);
    });
    
    // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®æ›´æ–°
    const progress = (currentQuestionIndex / questions.length) * 100;
    progressBar.style.width = `${progress}%`;
}

// å›žç­”ã®è¨˜éŒ²
function recordAnswer(axis, score) {
    userAnswers[axis].push(score);
}

// çµæžœã®è¨ˆç®—ã¨è¡¨ç¤º
function showResult() {
    questionScreen.classList.remove('active');
    resultScreen.classList.add('active');
    progressBar.style.width = `100%`; // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’å®Œäº†

    // è»¸ã”ã¨ã®å¤šæ•°æ±ºã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—
    const finalE = getMajorityScore('E', 'R', 'P'); // å……é›»åž‹(R) or æ”¾å‡ºåž‹(P)
    const finalF = getMajorityScore('F', 'S', 'M'); // ä¸€ç‚¹é›†ä¸­åž‹(S) or åŒæ™‚ä¸¦è¡Œåž‹(M)
    const finalT = getMajorityScore('T', 'L', 'I'); // è¨ˆç”»å§‹å‹•åž‹(L) or çªç™ºå§‹å‹•åž‹(I)

    const finalTypeKey = finalE + finalF + finalT; // ä¾‹: RML, PSI
    const resultData = results[finalTypeKey];

    // çµæžœç”»é¢ã®æ›´æ–°
    document.getElementById('result-title').textContent = `ã€${resultData.name}ã€‘ã‚¿ã‚¤ãƒ—`;
    document.getElementById('result-type-icon').textContent = resultData.icon;
    document.getElementById('result-flow-summary').textContent = resultData.summary;
    document.getElementById('result-energy-source').textContent = resultData.energy;
    document.getElementById('result-action-style').textContent = resultData.action;
    document.getElementById('result-strengths').textContent = `å¼·ã¿: ${resultData.strengths}`;
    document.getElementById('result-mbti').textContent = `ã‚ãªãŸã®EFTã¯MBTIã®ã€${resultData.mbti}ã€‘ã‚¿ã‚¤ãƒ—ã¨å…±é€šç‚¹ãŒå¤šã„ã§ã™ã€‚`;

    // ãƒ†ãƒ¼ãƒžã‚«ãƒ©ãƒ¼ã‚’é©ç”¨
    container.className = 'container'; // ã‚¯ãƒ©ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆ
    container.classList.add('type-' + finalTypeKey);
}

// å¤šæ•°æ±ºã§è»¸ã®ã‚¹ã‚³ã‚¢ã‚’æ±ºå®š
function getMajorityScore(axis, scoreA, scoreB) {
    const scores = userAnswers[axis];
    const countA = scores.filter(s => s === scoreA).length;
    const countB = scores.filter(s => s === scoreB).length;

    // ã‚¹ã‚³ã‚¢ãŒå¤šã„æ–¹ã‚’æŽ¡ç”¨ã€‚åŒç‚¹ã®å ´åˆã¯ã€ä¾¿å®œä¸ŠAã‚’æŽ¡ç”¨ï¼ˆR, S, Lï¼‰
    return countA >= countB ? scoreA : scoreB;
}

// ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹
resetButton.addEventListener('click', () => {
    resultScreen.classList.remove('active');
    startScreen.classList.add('active');
    container.className = 'container'; // ãƒ†ãƒ¼ãƒžã‚«ãƒ©ãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ
});

// åˆæœŸè¡¨ç¤º
document.addEventListener('DOMContentLoaded', () => {
    startScreen.classList.add('active');
});